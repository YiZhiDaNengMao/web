一、约束
1.概念

    1）约束是作用在表中列（字段）上的规则，用于限制加入表的数据
    2）约束的存在保证了数据库中数据的正确性、有效性和完整性
    3）作用：保证表中数据有效！！

2.约束的分类

    非空约束：not null
    唯一约束：unique
    主键约束：primary key（简称：PK）
    外键约束：foreign key（简称：FK）
    检查约束：check（mysql不支持，oracle支持）

3.非空约束：not null

    1）特点：保证列中所有数据不能有null值，也就是值不能为空
    2）语法结构：字段名 字段类型 not null

4.主键约束：primary key

    1）特点：主键是一行数据的唯一表示，要求：非空且唯一
    2）语法：字段名 字段类型 primary key
    3）分类：（代理主键 - 90%）
        代理主键：没有任何业务意义
        自然主键：表中本身存在一个非空且唯一的有效字段
            例如：身份证号码，学号，QQ号，微信号...
    4）代理主键类型
        ① varchar：用java代码随机生成一套字符串
        ② int：自动增长 / 序列（数据库自己可以完成）
            mysql：使用'auto_increment'来完成值的自动增长
            oracle：使用'sequence'来完成值的自动增长

    ★★★★★★
    -- 有自增约束的主键字段，删除主键约束前必须先删除自增约束

5.唯一约束：unique

    1）特点：添加了唯一约束的列的值不能重复
        但是mysql中，可以有多个null值，不对null做唯一判断
    2）语法结构：字段名 字段类型 unique [key]
    
    ○主键约束 和 唯一约束 的区别
        ① 主键约束：非空且唯一
        ② 唯一约束：必须唯一，但是可以为空
        ③ 一张表中只能有一个主键约束，但是可以有多个唯一约束
    
    ★★★★★★
    -- MySQL会给唯一约束的列上默认创建一个唯一索引
    -- 删除时需要指定唯一索引名，唯一索引名就和唯一约束名一样
    -- 如果创建唯一约束时未指定名称，如果是单列，就默认和列名相同；如果是组合列，那么默认和()
        中排在第一个的列名相同。也可以自定义唯一性约束名

    ○建表后指定唯一键约束
    #字段列表中如果是一个字段，表示该列的值唯一。如果是两个或更多个字段，那么复合唯一，
    #方式1：
        alter table 表名称 add unique key(字段列表);
    #方式2：
        alter table 表名称 modify 字段名 字段类型 unique;
    
    ○删除唯一约束
    -- ALTER TABLE USER DROP INDEX 约束名(索引名);


6.外键约束：foreign key

    1)特点:
        a.外键用来让 主表 与 从表 的数据之间建立连接,从而保证数据的一致性和完整性.
        b.多表关系中的主表和从表
            主表:主键id所在的表,约束别人的表
            从表:外键所在的表,被约束的表
    
    2)语法格式:
        [constaint 外键约束名称] foreign key(外键字段名)
        references 主表名(主键字段名)

    ★★★★★★
    -- 创建表时添加外键约束，没有指定外键名，系统会默认指定，如：student_ibfk_1，索引名默认为列名
    -- 创建表时添加外键约束，并且指定外键名，索引名也会与之一样

---------------------------------------------------------------------

二、数据库设计
1.概念

    数据库设计就是根据业务系统的具体需求，结合所选用的数据库，
    建立好表结构以及表与表之间的管理关系。

2.数据库设计的步骤

    1）需求分析（数据是什么？数据具体有哪些属性？数据与属性的特点是什么？）
    2）概要设计（E-R图:实体关系图 => 对数据进行逻辑建模）
    3）逻辑结构设计（将E-R图转换成多张表，确认各表中的主、外键关系）

3.表与表之间的关系

    1）一对一
        常见栗子：
            人 => 身份证，用户 => 用户详情
        使用场景：多用于表拆分，将一个实体中经常使用的字段放在一张表中，不经常使用
                的字段放在领一张表中，提高查询效率
        
    2）一对多（多对一）
        常见栗子：部门和员工，班级和学生，用户和订单
        实现方式：在（从表）多的一方建立外键，指向（主表）一的一方的主键

    3）多对多
        常见栗子：学生和课程，商品和订单
        实现方式：建立第三张表，中间表至少包含两个外键，分别关联两方的主键

4.数据库三范式
    
    1）概念：三范式就是设计数据库的规则
    ——————————————————————————————————————————————————————
    2）第一范式：
        ① 最核心、最重要的的范式，所有标的设计都需满足这一范式
        ② 要求任何一张表都必须有主键，每一个字段符合原子性
        学生编号    学生姓名    联系方式
        ----------------------------
        1001        张三      xx@x,x-xx
        1002        李四      xx@x,x-xx
        1001        王五      xx@x,x-xx
        不符合第一范式の原因：
            a 练习方式可以拆分成邮箱和电话，不符合原子性
            b 没有主键约束
    ——————————————————————————————————————————————————————


三、多表查询（连接查询/表连接查询）

四、子查询

五、事务

六、视图

七、存储引擎

八、索引

九、锁机制