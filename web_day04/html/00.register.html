<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>register</title>
  <link href="../css/register.css" rel="stylesheet">
</head>

<body>
<div class="form-div">
  <div class="reg-content">
    <h1>欢迎注册</h1>
    <span>已有帐号？</span> <a href="#">登录</a>
  </div>

  <form id="reg-form" action="#" method="get">
    <!--注册规则:
        校验用户名: 当用户输入框失去焦点时,判断输入的内容是否符合规则(长度: 6-12)
        校验密码: 判断输入的内容是否符合规则(长度: 6-12)
        校验手机号:判断输入的内容是否符合规则(长度: 11)
    -->
    <table>
      <tr>
        <td>用户名</td>
        <td class="inputs">
          <input name="username" type="text" id="username">
          <br>
          <span id="username_err" class="err_msg" style="display: none">用户名不太受欢迎</span>
        </td>
      </tr>

      <tr>
        <td>密码</td>
        <td class="inputs">
          <input name="password" type="password" id="password">
          <br>
          <span id="password_err" class="err_msg" style="display: none">密码格式有误</span>
        </td>
      </tr>

      <tr>
        <td>手机号</td>
        <td class="inputs"><input name="tel" type="text" id="tel">
          <br>
          <span id="tel_err" class="err_msg" style="display: none">手机号格式有误</span>
        </td>
      </tr>
    </table>

    <div class="buttons">
      <input value="注 册" type="submit" id="reg_btn">
    </div>
    <br class="clear">

  </form>

</div>

<!--JS代码 -->
<script>
  //一、用户名校验
  var usernameInput = document.getElementById("username")
  usernameInput.onblur = checkUsername
  function checkUsername() {
    let username = usernameInput.value.trim()
    let flag = username.length >= 6 && username.length <= 12
    if(flag){
      document.getElementById("username_err").style.display = 'none'
    }else {
      document.getElementById("username_err").style.display = ''
    }
    return flag
  }

  //二、密码校验
  var passwordInput = document.getElementById("password")
  passwordInput.onblur = checkPassword
  function checkPassword() {
    let password = passwordInput.value.trim()
    let flag = password.length >= 6 && password.length <= 12
    if(flag){
      document.getElementById("password_err").style.display = 'none'
    }else {
      document.getElementById("password_err").style.display = ''
    }
    return flag
  }

  //三、手机号校验
  var telInput = document.getElementById("tel")
  telInput.onblur = checkTel
  function checkTel() {
    let tel = telInput.value.trim()
    let flag = (tel.length === 11)
    if(flag){
      document.getElementById("tel_err").style.display = 'none'
    }else {
      document.getElementById("tel_err").style.display = ''
    }
    return flag
  }

  //四、表单校验
  var regForm = document.getElementById("reg-form")
  regForm.onsubmit = function () {
    flag =  checkUsername() && checkPassword() && checkTel()
  }
</script>
</body>
</html>